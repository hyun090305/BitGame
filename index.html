<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Bit Game</title>
  <link rel="stylesheet" href="style.css">
  <style>
    html {
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }
  </style>
</head>
<body>
  <!-- ë©”ì¸ í™”ë©´ -->
  <div id="mainScreen">
    <h1>ğŸ§  Bit Game</h1>
    <button id="startBtn">ì‹œì‘í•˜ê¸°</button>
    <div id="guestbookArea">
  <h3>ğŸ“ ê°œë°œì(ì´í˜„ì¤€)í•œí…Œ ê¸€ ë‚¨ê¸°ê¸°</h3>
  <input type="text" id="guestName" placeholder="ë‹‰ë„¤ì„ (ì„ íƒ)" />
  <br>
  <textarea id="guestMessage" rows="4" placeholder="ë‚¨ê¸°ê³  ì‹¶ì€ ë§..."></textarea>
  <br>
  <button onclick="submitGuestEntry()">ë“±ë¡</button>
  
  <div id="guestbookList"></div>
  
</div>
<button id="coffeeBtn" style="margin-top:16px;">
    â˜• ê°œë°œì(ì´í˜„ì¤€)í•œí…Œ ì»¤í”¼ ì‚¬ì£¼ê¸°
  </button> 
  </div>
  <div id="chapterScreen" style="display:none; padding: 2rem;">
  <h1>ğŸ“š ì±•í„° ì„ íƒ</h1>
  <div id="chapterGrid"></div>
  <button id="backToMainFromChapter">â† ë©”ì¸ìœ¼ë¡œ</button>
</div>

  <!-- ë ˆë²¨ ì„ íƒ í™”ë©´ -->
  <div id="levelScreen" style="display:none">
    <h2>ë ˆë²¨ì„ ì„ íƒí•˜ì„¸ìš”</h2>
    <div class="levelGrid">
      <button class="levelBtn" data-level="1"></button>
      <button class="levelBtn" data-level="2"></button>
      <button class="levelBtn" data-level="3"></button>
      <button class="levelBtn" data-level="4"></button>
      <button class="levelBtn" data-level="5"></button>
      <button class="levelBtn" data-level="6"></button>
    </div>
    <br><br>
    <button id="backToMainBtn">â† ë©”ì¸ìœ¼ë¡œ</button>
  </div>

  <!-- ê²Œì„ í™”ë©´ -->
  <div id="gameScreen" style="display:none">
    <h1 id="gameTitle">ğŸ§  Bit Game</h1>

    <!-- ì „ì²´ ê²Œì„ ì˜ì—­: ì¢Œì¸¡ ë©”ë‰´ + ì¤‘ì•™ ê·¸ë¦¬ë“œ + ìš°ì¸¡ ì•ˆë‚´ -->
    <div id="gameLayout">

      <!-- ë¸”ë¡ íŒ¨ë„ -->
      <div id="blockPanel" style="width: 120px;">
        <div class="blockIcon" draggable="true" data-type="AND">AND</div>
        <div class="blockIcon" draggable="true" data-type="OR">OR</div>
        <div class="blockIcon" draggable="true" data-type="NOT">NOT</div>
        <div class="blockIcon" draggable="true" data-type="INPUT" data-name="IN1">IN1</div>
        <div class="blockIcon" draggable="true" data-type="INPUT" data-name="IN2">IN2</div>
        <div class="blockIcon" draggable="true" data-type="INPUT" data-name="IN3">IN3</div>
        <div class="blockIcon" draggable="true" data-type="OUTPUT" data-name="OUT1">OUT1</div>
        <div class="blockIcon" draggable="true" data-type="OUTPUT" data-name="OUT2">OUT2</div>
        <div class="blockIcon" draggable="true" data-type="OUTPUT" data-name="OUT3">OUT3</div>
        <div class="blockIcon" draggable="true" data-type="WIRE" style="display: none;">WIRE</div>
      </div>

      <!-- íšŒë¡œ ê·¸ë¦¬ë“œ -->
      <div id="gridContainer">
        <div id="grid"></div>
      </div>

      <!-- ìš°ì¸¡: ì‹œë®¬ë ˆì´íŠ¸ + ì•ˆë‚´ + ì‚­ì œ -->
      <div class="rightPanel" id="rightPanel" style="display: flex; flex-direction: column; align-items: center; gap: 1rem;">
        <button id="gradeButton" class="green">ì±„ì í•˜ê¸°</button>
        <div style="text-align: center; line-height: 1.6;">
          <div id="wireStatusInfo" style="color: darkgreen; font-weight: bold;">
            [Ctrl] í‚¤ë¥¼ ëˆ„ë¥´ë©´ ë°°ì„  ë“œë¡œì‰ ëª¨ë“œê°€ ì¼œì§‘ë‹ˆë‹¤
          </div>
          <div id="wireStatusMsg" style="display: none; color: darkgreen; font-weight: bold;">
            ğŸ§µ ë“œë¡œì‰ ëª¨ë“œ í™œì„±í™” ì¤‘... (Ctrl í‚¤ì—ì„œ ì† ë–¼ë©´ ì¢…ë£Œ)
          </div>
          <div id="wireDeleteInfo" style="color: crimson; font-weight: bold; ">
            [Shift] í‚¤ë¥¼ ëˆ„ë¥´ë©´ ë°°ì„  ì‚­ì œ ëª¨ë“œê°€ ì¼œì§‘ë‹ˆë‹¤
          </div>
          <div id="wireDeleteMsg" style="display: none; color: crimson; font-weight: bold;">  
            ğŸ§¹ ì‚­ì œ ëª¨ë“œ í™œì„±í™” ì¤‘... (Shift í‚¤ì—ì„œ ì† ë–¼ë©´ ì¢…ë£Œ)
          </div>
        </div>

        <div id="trash" style="margin-top: 20px;">ğŸ—‘ï¸ Drag here to delete</div>
      </div>
      <div id="gradingArea" style="display:none">
        <button id="returnToEditBtn">ğŸ›  í¸ì§‘ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
      </div>
    </div>

    <!-- ë©”ë‰´ë°” -->
    <div id="menuBar" style="margin-top: 30px; text-align: center;">
      <button id="showIntroBtn">â„¹ï¸ ìŠ¤í…Œì´ì§€ ì•ˆë‚´</button>
      <button id="backToLevelsBtn">â† ë ˆë²¨ ì„ íƒìœ¼ë¡œ</button>
    </div>
  </div>

  
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAbpyXETtBChmh6vKpHCyaqpmPIm-lzAkI",
      authDomain: "bitgame-70394.firebaseapp.com",
      databaseURL: "https://bitgame-70394-default-rtdb.firebaseio.com",
      projectId: "bitgame-70394",
      storageBucket: "bitgame-70394.firebasestorage.app",
      messagingSenderId: "796428704868",
      appId: "1:796428704868:web:6926c5650bec88ee0c1371",
      measurementId: "G-W7KQ98LNST"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
  </script>
  <script src="script.v1.0.js"></script>

  <div id="levelIntroModal" style="display:none" class="modal">
  <div class="modal-content">
    <h2 id="introTitle"></h2>
    <p id="introDesc"></p>
    <table id="truthTable" border="1" style="margin: 10px auto;"></table>
    <button id="startLevelBtn">ì‹œì‘í•˜ê¸°</button>
  </div>
</div>
</body>
</html>
